# ğŸ§ª ØªØ´ØºÙŠÙ„ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙƒØ±Ø§Ø±

## Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```bash
flutter run
```

## Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§ÙØªØ­ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†

1. ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ø³ØªØ¨ÙŠØ§Ù† ØªØ¬Ø±ÙŠØ¨ÙŠ ØµØºÙŠØ±"
2. Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†

## Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙØ±Ø§Ø¯

ÙÙŠ Ø³Ø¤Ø§Ù„ **"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø£Ø³Ø±Ø© Ø§Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ† Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…ØŸ"**:

1. Ø§ÙƒØªØ¨: `5`
2. Ø§Ø¶ØºØ· **Done** Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙŠØ¨ÙˆØ±Ø¯
3. Ø£Ùˆ Ø§Ø¶ØºØ· Ø²Ø± âœ“ Ø§Ù„Ø£Ø®Ø¶Ø±

## Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù€ Console

ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ©:

```
ğŸ’¾ saveAnswer: questionId=10850, code=HH_MEMBERS_COUNT, value=5
ğŸ”„ Re-evaluating conditions after saving answer...
ğŸ” Evaluating 1 conditions for question 10850 (HH_MEMBERS_COUNT)
   Condition: targetType=TargetType.group, action=ConditionAction.repetition, operator=ConditionOperator.repeatForCount
   Answer value: 5
      _getAnswerValue(10850) = 5 (type: int)
   Condition met: true
ğŸ“Œ _applyGroupAction: groupId=83, action=ConditionAction.repetition
   answerValue from sourceQuestionId=10850: 5
      _getAnswerValue(10850) = 5 (type: int)
   âœ… Setting _groupRepetitions[83] = 5
ğŸ”„ getGroupRepetitions: groupId=83, count=5
ğŸ¨ Building group 83 (ÙƒØªÙ„Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¯ Ù…Ù† Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø£Ø³Ø±Ø©) with 5 repetitions
   ğŸ“ Generating instance 0 for group 83
   ğŸ“ Generating instance 1 for group 83
   ğŸ“ Generating instance 2 for group 83
   ğŸ“ Generating instance 3 for group 83
   ğŸ“ Generating instance 4 for group 83
```

## Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©

ÙŠØ¬Ø¨ Ø£Ù† ØªØ´Ø§Ù‡Ø¯:

```
âœ… Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø±Ø© ÙˆØ§Ù„Ø£ÙØ±Ø§Ø¯
   â”œâ”€â”€ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© Ø¹Ù† Ø§Ù„Ø£Ø³Ø±Ø©
   â”‚   â””â”€â”€ ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø£Ø³Ø±Ø©: 5 âœ“
   â”‚
   â”œâ”€â”€ ÙƒØªÙ„Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¯ Ù…Ù† Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø£Ø³Ø±Ø©
   â”‚   â”œâ”€â”€ Ø§Ù„ØªÙƒØ±Ø§Ø± 1
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„ÙØ±Ø¯ Ø±Ù‚Ù…: __
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„Ø¬Ù†Ø³: __
   â”‚   â”‚   â””â”€â”€ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: __
   â”‚   â”‚
   â”‚   â”œâ”€â”€ Ø§Ù„ØªÙƒØ±Ø§Ø± 2
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„ÙØ±Ø¯ Ø±Ù‚Ù…: __
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„Ø¬Ù†Ø³: __
   â”‚   â”‚   â””â”€â”€ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: __
   â”‚   â”‚
   â”‚   â”œâ”€â”€ Ø§Ù„ØªÙƒØ±Ø§Ø± 3
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„ÙØ±Ø¯ Ø±Ù‚Ù…: __
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„Ø¬Ù†Ø³: __
   â”‚   â”‚   â””â”€â”€ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: __
   â”‚   â”‚
   â”‚   â”œâ”€â”€ Ø§Ù„ØªÙƒØ±Ø§Ø± 4
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„ÙØ±Ø¯ Ø±Ù‚Ù…: __
   â”‚   â”‚   â”œâ”€â”€ Ø§Ù„Ø¬Ù†Ø³: __
   â”‚   â”‚   â””â”€â”€ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: __
   â”‚   â”‚
   â”‚   â””â”€â”€ Ø§Ù„ØªÙƒØ±Ø§Ø± 5
   â”‚       â”œâ”€â”€ Ø§Ù„ÙØ±Ø¯ Ø±Ù‚Ù…: __
   â”‚       â”œâ”€â”€ Ø§Ù„Ø¬Ù†Ø³: __
   â”‚       â””â”€â”€ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: __
```

---

## âŒ Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¸Ù‡Ø± Ø§Ù„ØªÙƒØ±Ø§Ø±

### Ø§Ø­ØªÙ…Ø§Ù„ 1: Ø§Ù„Ù‚ÙŠÙ…Ø© Ù„Ù… ØªÙØ­ÙØ¸

**Ø±Ø§Ù‚Ø¨ Console:**
```
ğŸ’¾ saveAnswer: questionId=10850, code=HH_MEMBERS_COUNT, value=5
```

**Ø¥Ø°Ø§ Ù„Ù… ØªØ¸Ù‡Ø±:**
- ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ø¶ØºØ·Øª Done Ø£Ùˆ Ø²Ø± âœ“
- ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ TextQuestionWidget

### Ø§Ø­ØªÙ…Ø§Ù„ 2: Ø§Ù„Ø´Ø±Ø· Ù„Ù… ÙŠÙÙ‚ÙŠÙ‘Ù…

**Ø±Ø§Ù‚Ø¨ Console:**
```
ğŸ” Evaluating 1 conditions for question 10850
```

**Ø¥Ø°Ø§ Ù„Ù… ØªØ¸Ù‡Ø±:**
- Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ _evaluateAllConditions
- ØªØ­Ù‚Ù‚ Ù…Ù† sourceConditions ÙÙŠ Ø§Ù„Ù€ JSON

### Ø§Ø­ØªÙ…Ø§Ù„ 3: Ø§Ù„Ù€ Action Ù„Ù… ÙŠÙØ·Ø¨Ù‘Ù‚

**Ø±Ø§Ù‚Ø¨ Console:**
```
ğŸ“Œ _applyGroupAction: groupId=83, action=ConditionAction.repetition
âœ… Setting _groupRepetitions[83] = 5
```

**Ø¥Ø°Ø§ Ù„Ù… ØªØ¸Ù‡Ø±:**
- Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ _applyConditionAction
- ØªØ­Ù‚Ù‚ Ù…Ù† targetType Ùˆ action

### Ø§Ø­ØªÙ…Ø§Ù„ 4: Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù„Ù… ØªØªØ­Ø¯Ø«

**Ø±Ø§Ù‚Ø¨ Console:**
```
ğŸ”„ getGroupRepetitions: groupId=83, count=5
ğŸ¨ Building group 83 with 5 repetitions
```

**Ø¥Ø°Ø§ Ø¸Ù‡Ø± count=1:**
- Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ _groupRepetitions
- ØªØ­Ù‚Ù‚ Ù…Ù† notifyListeners()

**Ø¥Ø°Ø§ Ø¸Ù‡Ø± count=5 Ù„ÙƒÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ø´ Ù…ØªØ­Ø¯Ø«Ø©:**
- Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Consumer
- ØªØ£ÙƒØ¯ Ù…Ù† ChangeNotifierProvider

---

## ğŸ” Debug Ø¥Ø¶Ø§ÙÙŠ

### Ø·Ø¨Ø§Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª

Ø£Ø¶Ù ÙÙŠ saveAnswer:

```dart
////print('All answers: ${_surveyAnswers!.answers.map((a) => "${a.questionId}:${a.value}").join(", ")}');
```

### Ø·Ø¨Ø§Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ repetitions

Ø£Ø¶Ù ÙÙŠ _evaluateAllConditions:

```dart
////print('All repetitions: $_groupRepetitions');
```

### Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù€ sourceConditions

Ø£Ø¶Ù ÙÙŠ loadSurvey Ø¨Ø¹Ø¯ loading:

```dart
for (var section in _survey!.sections!) {
  for (var group in section.questionGroups) {
    for (var question in group.questions) {
      if (question.sourceConditions.isNotEmpty) {
        ////print('Question ${question.id} has ${question.sourceConditions.length} sourceConditions');
      }
    }
  }
}
```

---

## âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

**Ø¨Ø¹Ø¯ ÙƒÙ„ Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
- âœ… Ø§Ù„Ù‚ÙŠÙ…Ø© 5 Ù…Ø­ÙÙˆØ¸Ø©
- âœ… Ø§Ù„Ø´Ø±Ø· Ø§ØªÙ‚ÙŠÙ‘Ù…
- âœ… Ø§Ù„Ù€ Action Ø§ØªØ·Ø¨Ù‘Ù‚
- âœ… _groupRepetitions[83] = 5
- âœ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¶Øª 5 ØªÙƒØ±Ø§Ø±Ø§Øª
- âœ… ÙƒÙ„ ØªÙƒØ±Ø§Ø± ÙÙŠÙ‡ 3 Ø£Ø³Ø¦Ù„Ø©

**Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ¬Ø±Ø¨ Ø¯Ù„ÙˆÙ‚ØªÙŠ! ğŸš€**
