# ููุฒุฉ ุฅููุงุก ุงูุงุณุชุจูุงู ุงููุจูุฑ

## ุงููุตู
ุชู ุฅุถุงูุฉ ุฒุฑ ูู ุดุงุดุฉ ุงูุฃุณุฆูุฉ ูุณูุญ ููุจุงุญุซ ุจุฅููุงุก ุงูุงุณุชุจูุงู ูู ุฃู ููุช (ุญุชู ูู ูู ูููู ุฌููุน ุงูุฃุณุฆูุฉ) ูุน ุญูุธ ุฌููุน ุงูุฅุฌุงุจุงุช ุงูุชู ุชู ุฅุฏุฎุงููุง.

## ุงููููุน
- **ุงูุฒุฑ**: ูู ุงูู AppBar ุนูู ุงููููู (ุฃููููุฉ โ ุฏุงุฆุฑุฉ)
- **ุงูุดุงุดุฉ**: `lib/presentation/screens/survey_details/survey_details_screen.dart`

## ููู ูุนูู

### 1. ุงูุฒุฑ ูู AppBar
```dart
IconButton(
  icon: const Icon(Icons.check_circle_outline, color: Colors.white),
  tooltip: 'ุฅููุงุก ุงูุงุณุชุจูุงู ุงูุขู',
  onPressed: () => _showEarlyCompletionDialog(context, viewModel),
)
```

### 2. ุฑุณุงูุฉ ุงูุชุฃููุฏ
ุนูุฏ ุงูุถุบุท ุนูู ุงูุฒุฑุ ุชุธูุฑ ุฑุณุงูุฉ ุชุฃููุฏ ุชุญุชูู ุนูู:
- **ุงูุนููุงู**: "ุฅููุงุก ุงูุงุณุชุจูุงู ุงูุขู"
- **ุงูุฑุณุงูุฉ ุงูุฑุฆูุณูุฉ**: "ูู ุชุฑูุฏ ุฅููุงุก ุงูุงุณุชุจูุงู ูู ูุฐู ุงููุฑุญูุฉุ"
- **ุงูุฑุณุงูุฉ ุงูุชูุถูุญูุฉ**: "ุณูุชู ุญูุธ ุฌููุน ุงูุฅุฌุงุจุงุช ุงูุชู ุชู ุฅุฏุฎุงููุง ุญุชู ุงูุขู ูุชุตุฏูุฑูุง ุฅูู Excel."
- **ุงูุฃุฒุฑุงุฑ**:
  - "ุฅูุบุงุก" - ููุนูุฏุฉ ููุงุณุชุจูุงู
  - "ุฅููุงุก ุงูุขู" - ูุชุฃููุฏ ุงูุฅููุงุก

### 3. ุนูููุฉ ุงูุญูุธ
ุนูุฏ ุงูุชุฃููุฏุ ูุชู:
1. **ุญูุธ ุงูุฅุฌุงุจุงุช ุงูุญุงููุฉ** ูู Hive (ุงูุชุฎุฒูู ุงููุญูู)
2. **ุชุตุฏูุฑ ุฅูู Excel** ูุน ุฌููุน ุงูุฅุฌุงุจุงุช ุงููุฏุฎูุฉ
3. **ุชุญุฏูุซ ุญุงูุฉ ุงูุงุณุชุจูุงู** ุฅูู "ููุชูู" (isDraft = false)
4. **ุฅุถุงูุฉ ุชุงุฑูุฎ ุงูุฅููุงุก** (completedAt)
5. **ุงูุนูุฏุฉ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ** ูุน ุฑุณุงูุฉ ูุฌุงุญ

## ุงููุฑู ุจูู ุงูุฅููุงุก ุงููุจูุฑ ูุงูุฅููุงุก ุงูุนุงุฏู

### ุงูุฅููุงุก ุงูุนุงุฏู (ุงูุฒุฑ ูู ุงูุฃุณูู)
- ูุธูุฑ ููุท ูู **ุขุฎุฑ ุตูุญุฉ** ูู ุงูุงุณุชุจูุงู
- ูุชุทูุจ ุงููุตูู ูููุงูุฉ ุฌููุน ุงูุฃูุณุงู
- ุงููุต: "ุฅููุงุก ุงูุงุณุชุจูุงู"

### ุงูุฅููุงุก ุงููุจูุฑ (ุงูุฒุฑ ูู AppBar)
- ูุชุงุญ ูู **ุฃู ููุช** ุฃุซูุงุก ููุก ุงูุงุณุชุจูุงู
- ูููู ุงุณุชุฎุฏุงูู ูู ุฃู ูุณู
- ุงููุต: "ุฅููุงุก ุงูุงุณุชุจูุงู ุงูุขู"
- ุงูุฃููููุฉ: โ ุฏุงุฆุฑุฉ ูู AppBar

## ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุฅููุงุก ูุจูุฑ ุจุณุจุจ ุฑูุถ ุงููุดุงุฑู
1. ุงูุจุงุญุซ ูุจุฏุฃ ุงูุงุณุชุจูุงู
2. ุงููุดุงุฑู ูุฌูุจ ุนูู ุจุนุถ ุงูุฃุณุฆูุฉ
3. ุงููุดุงุฑู ูุฑูุถ ุงูุงุณุชูุฑุงุฑ
4. ุงูุจุงุญุซ ูุถุบุท ุนูู ุฒุฑ ุงูุฅููุงุก ุงููุจูุฑ
5. ูุชู ุญูุธ ุงูุฅุฌุงุจุงุช ุงูููุฌูุฏุฉ

### ุงูุณููุงุฑูู 2: ุฅููุงุก ุจุณุจุจ ุธุฑูู ุทุงุฑุฆุฉ
1. ุงูุจุงุญุซ ูู ููุชุตู ุงูุงุณุชุจูุงู
2. ูุญุฏุซ ุธุฑู ุทุงุฑุฆ (ุงููุทุงุน ููุฑุจุงุกุ ูุดููุฉ ุชูููุฉุ ุฅูุฎ)
3. ุงูุจุงุญุซ ูุถุบุท ุนูู ุฒุฑ ุงูุฅููุงุก ุงููุจูุฑ
4. ูุชู ุญูุธ ุฌููุน ุงูุฅุฌุงุจุงุช ุงููุฏุฎูุฉ ุญุชู ูุฐู ุงููุญุธุฉ

### ุงูุณููุงุฑูู 3: ุฅููุงุก ุจุณุจุจ ุนุฏู ุชููุฑ ูุนูููุงุช
1. ุงูุจุงุญุซ ูุตู ูุฃุณุฆูุฉ ุชุชุทูุจ ูุนูููุงุช ุบูุฑ ูุชููุฑุฉ
2. ุจุฏูุงู ูู ุชุฑู ุงูุงุณุชุจูุงู ูุนููุงู
3. ูุถุบุท ุนูู ุฒุฑ ุงูุฅููุงุก ุงููุจูุฑ
4. ูุชู ุญูุธ ุงูุฅุฌุงุจุงุช ุงูููุฌูุฏุฉ

## ุงูุจูุงูุงุช ุงููุญููุธุฉ

### ูู Hive (ุงูุชุฎุฒูู ุงููุญูู)
```dart
SurveyAnswersModel(
  surveyId: 123,
  surveyCode: "SURVEY_001",
  answers: [...], // ุฌููุน ุงูุฅุฌุงุจุงุช ุงููุฏุฎูุฉ
  startedAt: DateTime(...),
  completedAt: DateTime.now(), // ุชุงุฑูุฎ ุงูุฅููุงุก ุงููุจูุฑ
  isDraft: false, // ุชู ุชุญูููู ูููุชูู
  researcherName: "...",
  // ... ุจุงูู ุงูุจูุงูุงุช
)
```

### ูู Excel
- ูุชู ุชุตุฏูุฑ ุฌููุน ุงูุฅุฌุงุจุงุช ุงููุฏุฎูุฉ
- ุงูุฃุณุฆูุฉ ุงูุชู ูู ูุชู ุงูุฅุฌุงุจุฉ ุนูููุง ุชุธูุฑ ูุงุฑุบุฉ
- ูุชู ุชุณุฌูู ุชุงุฑูุฎ ุงูุฅููุงุก ูู ุนููุฏ "ุชุงุฑูุฎ ุงูุฅููุงุก"
- ุญุงูุฉ ุงูุงุณุชุจูุงู ุชููู "ููุชูู" (ูููุณ "ูุณูุฏุฉ")

## ุงูููุฏ ุงููุถุงู

### ูู survey_details_screen.dart
```dart
// 1. ุงูุฒุฑ ูู AppBar
IconButton(
  icon: const Icon(Icons.check_circle_outline, color: Colors.white),
  tooltip: 'ุฅููุงุก ุงูุงุณุชุจูุงู ุงูุขู',
  onPressed: () => _showEarlyCompletionDialog(context, viewModel),
)

// 2. ุฏุงูุฉ ุนุฑุถ ุฑุณุงูุฉ ุงูุชุฃููุฏ
Future<void> _showEarlyCompletionDialog(
  BuildContext context,
  SurveyDetailsViewModel viewModel,
) async {
  // ุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ
  // ุญูุธ ุงูุฅุฌุงุจุงุช
  // ุฅููุงุก ุงูุงุณุชุจูุงู
  // ุงูุนูุฏุฉ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
}
```

### ูู survey_details_viewmodel.dart
```dart
// ุฅุถุงูุฉ getter ูููุตูู ููู repository
SurveyRepository get surveyRepository => repository;
```

## ุงูุฑุณุงุฆู ูููุณุชุฎุฏู

### ุฑุณุงูุฉ ุงูุชุฃููุฏ
- **ุงูุนููุงู**: "ุฅููุงุก ุงูุงุณุชุจูุงู ุงูุขู" ๐ข
- **ุงููุญุชูู**: "ูู ุชุฑูุฏ ุฅููุงุก ุงูุงุณุชุจูุงู ูู ูุฐู ุงููุฑุญูุฉุ"
- **ุงูุชูุถูุญ**: "ุณูุชู ุญูุธ ุฌููุน ุงูุฅุฌุงุจุงุช ุงูุชู ุชู ุฅุฏุฎุงููุง ุญุชู ุงูุขู ูุชุตุฏูุฑูุง ุฅูู Excel."

### ุฑุณุงูุฉ ุงููุนุงูุฌุฉ
- "ุฌุงุฑู ุญูุธ ุงูุงุณุชุจูุงู..." โณ

### ุฑุณุงูุฉ ุงููุฌุงุญ
- "โ ุชู ุฅููุงุก ุงูุงุณุชุจูุงู ูุญูุธู ุจูุฌุงุญ" ๐ข

### ุฑุณุงูุฉ ุงูุฎุทุฃ
- "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุญูุธ: [ุชูุงุตูู ุงูุฎุทุฃ]" ๐ด

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุฅููุงุก ุงููุจูุฑ
1. ุงูุชุญ ุงุณุชุจูุงู ุฌุฏูุฏ
2. ุฃุฌุจ ุนูู ุจุนุถ ุงูุฃุณุฆูุฉ (ููุณ ูููุง)
3. ุงุถุบุท ุนูู ุฒุฑ โ ูู AppBar
4. ุฃูุฏ ุงูุฅููุงุก
5. ุชุญูู ูู:
   - ุธููุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
   - ุงูุนูุฏุฉ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
   - ูุฌูุฏ ููู Excel ุจุงูุฅุฌุงุจุงุช ุงููุฏุฎูุฉ
   - ุญุงูุฉ ุงูุงุณุชุจูุงู "ููุชูู" ูููุณ "ูุณูุฏุฉ"

### ุงุฎุชุจุงุฑ ุงูุฅูุบุงุก
1. ุงูุชุญ ุงุณุชุจูุงู
2. ุงุถุบุท ุนูู ุฒุฑ โ ูู AppBar
3. ุงุถุบุท "ุฅูุบุงุก" ูู ุฑุณุงูุฉ ุงูุชุฃููุฏ
4. ุชุญูู ูู:
   - ุงูุจูุงุก ูู ููุณ ุงูุตูุญุฉ
   - ุนุฏู ุญูุธ ุฃู ุดูุก
   - ุฅููุงููุฉ ุงูุงุณุชูุฑุงุฑ ูู ุงูุฅุฌุงุจุฉ

### ุงุฎุชุจุงุฑ ูุน ุงุณุชุจูุงู ูุงุฑุบ
1. ุงูุชุญ ุงุณุชุจูุงู ุฌุฏูุฏ
2. ูุง ุชุฌุจ ุนูู ุฃู ุณุคุงู
3. ุงุถุบุท ุนูู ุฒุฑ โ ูู AppBar
4. ุฃูุฏ ุงูุฅููุงุก
5. ุชุญูู ูู:
   - ุญูุธ ุงูุงุณุชุจูุงู ุจุฏูู ุฅุฌุงุจุงุช
   - ุฅูุดุงุก ููู Excel ูุงุฑุบ (ููุท ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ)

## ุงููููุงุช ุงููุนุฏูุฉ

1. **lib/presentation/screens/survey_details/survey_details_screen.dart**
   - ุฅุถุงูุฉ ุฒุฑ ูู AppBar
   - ุฅุถุงูุฉ ุฏุงูุฉ `_showEarlyCompletionDialog`

2. **lib/presentation/screens/survey_details/viewmodel/survey_details_viewmodel.dart**
   - ุฅุถุงูุฉ getter `surveyRepository`

## ุงูููุฒุงุช ุงูุฅุถุงููุฉ ุงููุญุชููุฉ

### ุชุญุณููุงุช ูุณุชูุจููุฉ
- ุฅุถุงูุฉ ุณุจุจ ุงูุฅููุงุก ุงููุจูุฑ (ุงุฎุชูุงุฑู)
- ุฅุถุงูุฉ ุชุฃููุฏ ุฅุถุงูู ุฅุฐุง ูุงูุช ุงูุฅุฌุงุจุงุช ููููุฉ ุฌุฏุงู
- ุฅุถุงูุฉ ุฅุญุตุงุฆูุฉ ุนู ูุณุจุฉ ุงูุฅููุงู (ูุซูุงู: "ุชู ุงูุฅุฌุงุจุฉ ุนูู 5 ูู 20 ุณุคุงู")
- ุฅุถุงูุฉ ุฎูุงุฑ "ุญูุธ ููุณูุฏุฉ" ุจุฏูุงู ูู "ุฅููุงุก"

### ุชูุงุฑูุฑ
- ุนุฏุฏ ุงูุงุณุชุจูุงูุงุช ุงูููุชููุฉ ูุจูุฑุงู
- ูุชูุณุท ูุณุจุฉ ุงูุฅููุงู
- ุงูุฃุณุฆูุฉ ุงูุชู ูุชู ุงูุชููู ุนูุฏูุง ุบุงูุจุงู

## ุงูุฃูุงู ูุงูุตูุงุญูุงุช

- โ ูุง ูุชุทูุจ ุตูุงุญูุงุช ุฅุถุงููุฉ
- โ ูุนูู offline (ูุญูุธ ูุญููุงู)
- โ ูุชู ุงูุชุตุฏูุฑ ูู Excel ุชููุงุฆูุงู
- โ ูุง ูููู ุงูุชุฑุงุฌุน ุจุนุฏ ุงูุชุฃููุฏ (ููุงุฆู)

## ุงูููุงุญุธุงุช ุงููููุฉ

1. **ุงูุฅููุงุก ููุงุฆู**: ุจุนุฏ ุชุฃููุฏ ุงูุฅููุงุก ุงููุจูุฑุ ูุง ูููู ุงูุนูุฏุฉ ูุฅููุงู ุงูุงุณุชุจูุงู
2. **ุงูุญูุธ ุงูุชููุงุฆู**: ูุชู ุญูุธ ุงูุฅุฌุงุจุงุช ุชููุงุฆูุงู ูุจู ุงูุฅููุงุก
3. **ุงูุชุตุฏูุฑ ูู Excel**: ูุชู ุงูุชุตุฏูุฑ ููุฑุงู ุจุนุฏ ุงูุฅููุงุก
4. **ุงูุญุงูุฉ**: ูุชู ุชุญููู ุงูุงุณุชุจูุงู ูู "ูุณูุฏุฉ" ุฅูู "ููุชูู"
5. **ุงูุชุงุฑูุฎ**: ูุชู ุชุณุฌูู ุชุงุฑูุฎ ุงูุฅููุงุก ุงููุจูุฑ ูู `completedAt`
